{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport React, { useState } from 'react';\nimport * as ImagePicker from 'expo-image-picker';\nimport { useNavigation } from '@react-navigation/native';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar CameraPage = function CameraPage() {\n  var navigation = useNavigation();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      image = _useState2[0],\n      setImage = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      preview = _useState4[0],\n      setPreview = _useState4[1];\n\n  var pickImage = function _callee() {\n    var result;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.All,\n              allowsEditing: true,\n              aspect: [4, 3],\n              quality: 1\n            }));\n\n          case 2:\n            result = _context.sent;\n            console.log(result);\n\n            if (!result.cancelled) {\n              setImage(result);\n              setPreview(true);\n            }\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var resetPicture = function resetPicture() {\n    setImage(null);\n    setPreview(false);\n  };\n\n  return _jsx(View, {\n    style: styles.container,\n    children: preview && image ? _jsx(ImagePreview, {\n      photo: image,\n      resetPicture: resetPicture\n    }) : _jsxs(View, {\n      children: [_jsx(Button, {\n        title: \"Pick an image from camera roll\",\n        onPress: pickImage\n      }), _jsx(Button, {\n        title: \"Use the camera to add to your closet\",\n        onPress: function onPress() {\n          navigation.navigate('CameraCloset');\n        }\n      })]\n    })\n  });\n};\n\nvar ImagePreview = function ImagePreview(_ref) {\n  var photo = _ref.photo,\n      resetPicture = _ref.resetPicture;\n  console.log('Previewing', photo);\n  return _jsx(View, {\n    style: styles.imagePrev,\n    children: _jsx(ImageBackground, {\n      source: {\n        uri: photo && photo.uri\n      },\n      style: {\n        flex: 1\n      },\n      children: _jsx(TouchableOpacity, {\n        onPress: resetPicture,\n        children: _jsx(MaterialIcons, {\n          name: \"close\",\n          size: 30,\n          style: styles.cancelButton,\n          onPress: resetPicture\n        })\n      })\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center'\n  },\n  imagePrev: {\n    backgroundColor: 'transparent',\n    flex: 1,\n    width: '100%',\n    height: '100%'\n  },\n  cancelButton: {\n    position: 'absolute',\n    top: 30,\n    left: 30,\n    flex: 0.1,\n    color: '#fff'\n  }\n});\nexport default CameraPage;","map":{"version":3,"names":["React","useState","ImagePicker","useNavigation","MaterialIcons","CameraPage","navigation","image","setImage","preview","setPreview","pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","result","console","log","cancelled","resetPicture","styles","container","navigate","ImagePreview","photo","imagePrev","uri","flex","cancelButton","StyleSheet","create","justifyContent","backgroundColor","width","height","position","top","left","color"],"sources":["/Users/davidnguyen/Desktop/fixfit/pages/CameraClosetPage.js"],"sourcesContent":["import { StyleSheet, View, Button, ImageBackground, TouchableOpacity } from 'react-native';\nimport React, { useState } from 'react';\nimport * as ImagePicker from 'expo-image-picker';\nimport { useNavigation } from '@react-navigation/native';\nimport {  MaterialIcons } from '@expo/vector-icons';\n\nconst CameraPage = () => {\n  const navigation = useNavigation();\n\n  const [image, setImage] = useState(null);\n  const [preview, setPreview] = useState(null);\n\n  const pickImage = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\n      allowsEditing: true,\n      aspect: [4, 3],\n      quality: 1,\n    });\n\n    console.log(result);\n\n    if (!result.cancelled) {\n      setImage(result);\n      setPreview(true);\n    }\n  };\n\n  const resetPicture = () => {\n    setImage(null);\n    setPreview(false);\n  }\n\n  return (\n    <View style={styles.container}>\n      {preview && image ? (\n        <ImagePreview photo={image} resetPicture={resetPicture} />\n      ) : (\n        <View>\n          <Button title=\"Pick an image from camera roll\" onPress={pickImage}/>\n          <Button \n            title=\"Use the camera to add to your closet\" \n            onPress={() => {navigation.navigate('CameraCloset')}} />\n        </View>\n      )}\n    </View>\n  );\n}\n\nconst ImagePreview = ({photo, resetPicture}) => {\n  console.log('Previewing', photo)\n  return (\n    <View style={styles.imagePrev}>\n      <ImageBackground\n        source={{uri: photo && photo.uri}}\n        style={{ flex: 1 }}>\n          <TouchableOpacity onPress={resetPicture}>\n            <MaterialIcons name='close' size={30} style={styles.cancelButton} onPress={resetPicture}/>\n          </TouchableOpacity>\n      </ImageBackground>\n    </View>\n  )\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  imagePrev: {\n    backgroundColor: 'transparent',\n    flex: 1,\n    width: '100%',\n    height: '100%'\n  },\n  cancelButton: {\n    position: 'absolute',\n    top: 30,\n    left: 30,\n    flex: 0.1,\n    color: '#fff',\n  },\n});\n\nexport default CameraPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}