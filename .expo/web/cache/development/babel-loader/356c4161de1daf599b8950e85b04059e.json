{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { Camera, CameraType } from 'expo-camera';\nimport { MaterialIcons, Ionicons } from '@expo/vector-icons';\nimport { useNavigation } from '@react-navigation/native';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function CameraComp() {\n  var cameraRef = useRef(null);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasPermission = _useState2[0],\n      setHasPermission = _useState2[1];\n\n  var _useState3 = useState(CameraType.back),\n      _useState4 = _slicedToArray(_useState3, 2),\n      type = _useState4[0],\n      setType = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      previewVisible = _useState6[0],\n      setPreviewVisible = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      chooseImage = _useState8[0],\n      setChooseImage = _useState8[1];\n\n  var navigation = useNavigation();\n\n  var takePicture = function _callee() {\n    var photo;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(cameraRef.current.takePictureAsync());\n\n          case 2:\n            photo = _context.sent;\n            console.log(photo);\n            setPreviewVisible(true);\n            setChooseImage(photo);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    (function _callee2() {\n      var _await$Camera$request, status;\n\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(Camera.requestCameraPermissionsAsync());\n\n            case 2:\n              _await$Camera$request = _context2.sent;\n              status = _await$Camera$request.status;\n              setHasPermission(status === 'granted');\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  if (hasPermission === null) {\n    return _jsx(View, {});\n  }\n\n  if (hasPermission === false) {\n    return _jsx(Text, {\n      children: \" No access to camera \"\n    });\n  }\n\n  var savePhoto = function savePhoto() {};\n\n  var retakePicture = function retakePicture() {\n    setChooseImage(null);\n    setPreviewVisible(false);\n  };\n\n  return _jsx(View, {\n    style: styles.container,\n    children: previewVisible && chooseImage ? _jsx(CameraPreview, {\n      photo: chooseImage,\n      retakePicture: retakePicture,\n      savePhoto: savePhoto,\n      navigation: navigation\n    }) : _jsxs(Camera, {\n      style: styles.camera,\n      type: type,\n      ref: cameraRef,\n      children: [_jsxs(View, {\n        style: styles.flipContainer,\n        children: [_jsx(TouchableOpacity, {\n          style: styles.flipButton,\n          onPress: function onPress() {\n            setType(type === CameraType.back ? CameraType.front : CameraType.back);\n          },\n          children: _jsx(Ionicons, {\n            name: \"camera-reverse-outline\",\n            size: 30,\n            color: \"white\"\n          })\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            navigation.navigate('CameraClosetS');\n          },\n          children: _jsx(MaterialIcons, {\n            name: \"close\",\n            size: 30,\n            style: styles.cancelButton,\n            onPress: function onPress() {\n              navigation.navigate('CameraClosetS');\n            }\n          })\n        })]\n      }), _jsx(TouchableOpacity, {\n        onPress: takePicture,\n        style: styles.picButton\n      })]\n    })\n  });\n}\n\nvar CameraPreview = function CameraPreview(_ref) {\n  var photo = _ref.photo,\n      retakePicture = _ref.retakePicture,\n      savePhoto = _ref.savePhoto,\n      navigation = _ref.navigation;\n  console.log('Success', photo);\n  return _jsx(View, {\n    style: styles.imagePrev,\n    children: _jsxs(ImageBackground, {\n      source: {\n        uri: photo && photo.uri\n      },\n      style: {\n        flex: 1\n      },\n      children: [_jsx(View, {\n        style: styles.flipContainer,\n        children: _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            navigation.navigate('CameraS');\n          },\n          children: _jsx(MaterialIcons, {\n            name: \"close\",\n            size: 30,\n            style: styles.cancelButton,\n            onPress: function onPress() {\n              navigation.navigate('CameraS');\n            }\n          })\n        })\n      }), _jsx(View, {\n        style: {\n          flex: 1,\n          flexDirection: 'column',\n          padding: 15,\n          justifyContent: 'flex-end'\n        },\n        children: _jsxs(View, {\n          style: {\n            flexDirection: 'row',\n            justifyContent: 'space-between'\n          },\n          children: [_jsx(TouchableOpacity, {\n            onPress: retakePicture,\n            style: styles.secondScreen,\n            children: _jsx(Text, {\n              style: styles.text,\n              children: \"Retake\"\n            })\n          }), _jsx(TouchableOpacity, {\n            onPress: savePhoto,\n            style: styles.secondScreen,\n            children: _jsx(Text, {\n              style: styles.text,\n              children: \" Save \"\n            })\n          })]\n        })\n      })]\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  camera: {\n    flex: 1\n  },\n  imagePrev: {\n    backgroundColor: 'transparent',\n    flex: 1,\n    width: '100%',\n    height: '100%'\n  },\n  picButton: {\n    width: 70,\n    height: 70,\n    bottom: 60,\n    borderRadius: 50,\n    backgroundColor: '#fff',\n    alignSelf: 'center'\n  },\n  flipContainer: {\n    flex: 1,\n    backgroundColor: 'transparent',\n    flexDirection: 'row'\n  },\n  flipButton: {\n    position: 'absolute',\n    top: 60,\n    right: 30,\n    flex: 0.1,\n    paddingRight: 15\n  },\n  cancelButton: {\n    position: 'absolute',\n    top: 60,\n    left: 30,\n    flex: 0.1,\n    color: '#fff',\n    paddingLeft: 15\n  },\n  text: {\n    fontSize: 20,\n    color: 'white'\n  },\n  secondScreen: {\n    width: 130,\n    height: 40,\n    alignItems: 'center',\n    borderRadius: 4,\n    bottom: 55\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useRef","Camera","CameraType","MaterialIcons","Ionicons","useNavigation","CameraComp","cameraRef","hasPermission","setHasPermission","back","type","setType","previewVisible","setPreviewVisible","chooseImage","setChooseImage","navigation","takePicture","current","takePictureAsync","photo","console","log","requestCameraPermissionsAsync","status","savePhoto","retakePicture","styles","container","camera","flipContainer","flipButton","front","navigate","cancelButton","picButton","CameraPreview","imagePrev","uri","flex","flexDirection","padding","justifyContent","secondScreen","text","StyleSheet","create","backgroundColor","width","height","bottom","borderRadius","alignSelf","position","top","right","paddingRight","left","color","paddingLeft","fontSize","alignItems"],"sources":["/Users/davidnguyen/Desktop/fixfit/components/CameraCloset.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity, ImageBackground } from 'react-native';\nimport { Camera, CameraType } from 'expo-camera';\nimport {  MaterialIcons, Ionicons } from '@expo/vector-icons';\nimport { useNavigation } from '@react-navigation/native';\n\n\nexport default function CameraComp() {\n  const cameraRef = useRef(null);\n  const [hasPermission, setHasPermission] = useState(null);\n  const [type, setType] = useState(CameraType.back);\n  const [previewVisible, setPreviewVisible] = useState(null);\n  const [chooseImage, setChooseImage] = useState(null);\n  const navigation = useNavigation();\n\n  const takePicture = async () => {\n    const photo = await cameraRef.current.takePictureAsync();\n    console.log(photo);\n    setPreviewVisible(true);\n    setChooseImage(photo);\n  };\n\n  useEffect(() => {\n    (async () => {\n      const { status } = await Camera.requestCameraPermissionsAsync();\n      setHasPermission(status === 'granted');\n    })();\n  }, []);\n\n  if (hasPermission === null) {\n    return <View />;\n  }\n  if (hasPermission === false) {\n    return <Text> No access to camera </Text>;\n  }\n\n  const savePhoto = () => {};\n\n  const retakePicture = () => {\n    setChooseImage(null);\n    setPreviewVisible(false);\n  }\n\n  return (\n    <View style={styles.container}>\n      {previewVisible && chooseImage ? (\n            <CameraPreview photo={chooseImage} retakePicture={retakePicture} savePhoto={savePhoto} navigation={navigation} />\n          ) : (\n      <Camera style={styles.camera} type={type} ref={cameraRef}>\n        <View style={styles.flipContainer}>\n          <TouchableOpacity\n            style={styles.flipButton}\n            onPress={() => {\n              setType(type === CameraType.back ? CameraType.front : CameraType.back);\n            }}>\n            <Ionicons name=\"camera-reverse-outline\" size={30} color=\"white\"/>\n          </TouchableOpacity>\n          <TouchableOpacity onPress={() => {navigation.navigate('CameraClosetS');}}>\n            <MaterialIcons \n              name='close' size={30} \n              style={styles.cancelButton} \n              onPress={() => {navigation.navigate('CameraClosetS');}}/>\n          </TouchableOpacity>\n        </View>\n        <TouchableOpacity\n          onPress={takePicture}\n          style={styles.picButton}/> \n      </Camera>\n          )}\n    </View>\n  );\n}\n\nconst CameraPreview = ({photo, retakePicture, savePhoto, navigation}) => {\n  console.log('Success', photo)\n  return (\n    <View style={styles.imagePrev}>\n      <ImageBackground\n        source={{uri: photo && photo.uri}}\n        style={{ flex: 1 }}>\n        <View style={styles.flipContainer}>\n          <TouchableOpacity onPress={() => {navigation.navigate('CameraS');}}>\n            <MaterialIcons name='close' size={30} style={styles.cancelButton} onPress={() => {navigation.navigate('CameraS');}}/>\n          </TouchableOpacity>\n        </View>\n        <View\n          style={{\n            flex: 1,\n            flexDirection: 'column',\n            padding: 15,\n            justifyContent: 'flex-end'\n          }}\n        >\n          <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\n            <TouchableOpacity onPress={ retakePicture } style={ styles.secondScreen }>\n              <Text style={styles.text}>Retake</Text>\n            </TouchableOpacity>\n            <TouchableOpacity onPress={ savePhoto } style={ styles.secondScreen }>\n              <Text style={styles.text}> Save </Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </ImageBackground>\n    </View>\n  )\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  camera: {\n    flex: 1,\n  },\n  imagePrev: {\n    backgroundColor: 'transparent',\n    flex: 1,\n    width: '100%',\n    height: '100%'\n  },\n  picButton: {\n    width: 70,\n    height: 70,\n    bottom: 60,\n    borderRadius: 50,\n    backgroundColor: '#fff',\n    alignSelf: 'center',\n  },\n  flipContainer: {\n    flex: 1,\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n  },\n  flipButton: {\n    position: 'absolute',\n    top: 60,\n    right: 30,\n    flex: 0.1,\n    paddingRight: 15,\n  },\n  cancelButton: {\n    position: 'absolute',\n    top: 60,\n    left: 30,\n    flex: 0.1,\n    color: '#fff',\n    paddingLeft: 15,\n  },\n  text: {\n    fontSize: 20,\n    color: 'white',\n  },\n  secondScreen: {\n    width: 130,\n    height: 40,\n    alignItems: 'center',\n    borderRadius: 4,\n    bottom: 55,\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}